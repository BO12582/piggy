local P,W,R,L=game:GetService("Players"),game:GetService("Workspace"),game:GetService("RunService"),game:GetService("Players").LocalPlayer;if not fireclickdetector then getgenv().fireclickdetector=function(d)if d and d:IsA("ClickDetector")then local o=d.MaxActivationDistance;d.MaxActivationDistance=math.huge;wait(.1)pcall(function()d.MouseClick:Fire()end)wait(.1)d.MaxActivationDistance=o end end end;if not fireproximityprompt then getgenv().fireproximityprompt=function(p)if p and p:IsA("ProximityPrompt")then local o,l=p.MaxActivationDistance,p.RequiresLineOfSight;p.MaxActivationDistance=math.huge;p.RequiresLineOfSight=false;wait(.1)pcall(function()p:InputHoldBegin()wait(p.HoldDuration or.5)p:InputHoldEnd()end)wait(.1)p.MaxActivationDistance=o;p.RequiresLineOfSight=l end end end;local S={E=false,G=false,N=false,IC=Color3.fromRGB(0,255,127),EC=Color3.fromRGB(255,50,50),PC=Color3.fromRGB(0,150,255),R=2,T=50}local sg,mf,t,mb,cb,cf,ls,eb,gb,nb,rb,ib,tb,sl,ul=Instance.new("ScreenGui"),Instance.new("Frame"),Instance.new("TextLabel"),Instance.new("TextButton"),Instance.new("TextButton"),Instance.new("Frame"),Instance.new("Frame"),Instance.new("TextButton"),Instance.new("TextButton"),Instance.new("TextButton"),Instance.new("TextButton"),Instance.new("TextBox"),Instance.new("TextButton"),Instance.new("ScrollingFrame"),Instance.new("UIListLayout")sg.Name="PiggyV5"sg.ResetOnSpawn=false;sg.Parent=game:GetService("CoreGui")mf.Parent=sg;mf.BackgroundColor3=Color3.fromRGB(25,25,30)mf.Position=UDim2.new(.5,-200,.5,-150)mf.Size=UDim2.new(0,400,0,335)mf.Active=true;mf.Draggable=true;t.Parent=mf;t.BackgroundColor3=Color3.fromRGB(180,0,0)t.Size=UDim2.new(1,0,0,35)t.Text="PIGGY V5"t.TextColor3=Color3.new(1,1,1)t.Font=Enum.Font.GothamBold;t.TextSize=16;mb.Parent=mf;mb.Position=UDim2.new(1,-70,0,0)mb.Size=UDim2.new(0,35,0,35)mb.Text="-"mb.BackgroundColor3=Color3.fromRGB(100,100,0)mb.TextColor3=Color3.new(1,1,1)mb.Font=Enum.Font.GothamBold;mb.TextSize=20;cb.Parent=mf;cb.Position=UDim2.new(1,-35,0,0)cb.Size=UDim2.new(0,35,0,35)cb.Text="X"cb.BackgroundColor3=Color3.fromRGB(150,0,0)cb.TextColor3=Color3.new(1,1,1)cf.Parent=mf;cf.BackgroundTransparency=1;cf.Position=UDim2.new(0,0,0,35)cf.Size=UDim2.new(1,0,1,-35)ls.Parent=cf;ls.BackgroundTransparency=1;ls.Position=UDim2.new(0,10,0,10)ls.Size=UDim2.new(0,170,0,280)eb.Parent=ls;eb.Size=UDim2.new(1,0,0,35)eb.Text="ESP: OFF"eb.BackgroundColor3=Color3.fromRGB(50,50,55)eb.TextColor3=Color3.new(1,1,1)eb.Font=Enum.Font.GothamBold;eb.TextSize=14;gb.Parent=ls;gb.Position=UDim2.new(0,0,0,45)gb.Size=UDim2.new(1,0,0,35)gb.Text="ANTI-PIGGY: OFF"gb.BackgroundColor3=Color3.fromRGB(50,50,55)gb.TextColor3=Color3.new(1,1,1)gb.Font=Enum.Font.GothamBold;gb.TextSize=14;nb.Parent=ls;nb.Position=UDim2.new(0,0,0,90)nb.Size=UDim2.new(1,0,0,35)nb.Text="NOCLIP: OFF"nb.BackgroundColor3=Color3.fromRGB(50,50,55)nb.TextColor3=Color3.new(1,1,1)nb.Font=Enum.Font.GothamBold;nb.TextSize=14;rb.Parent=ls;rb.Position=UDim2.new(0,0,0,135)rb.Size=UDim2.new(1,0,0,35)rb.Text="REFRESH"rb.BackgroundColor3=Color3.fromRGB(60,60,65)rb.TextColor3=Color3.new(1,1,1)rb.Font=Enum.Font.GothamBold;rb.TextSize=14;ib.Parent=ls;ib.Position=UDim2.new(0,0,0,180)ib.Size=UDim2.new(1,0,0,40)ib.PlaceholderText="Select Item"ib.Text=""ib.BackgroundColor3=Color3.fromRGB(40,40,45)ib.TextColor3=Color3.new(1,1,1)ib.Font=Enum.Font.SourceSans;ib.TextSize=14;tb.Parent=ls;tb.Position=UDim2.new(0,0,0,230)tb.Size=UDim2.new(1,0,0,50)tb.Text="TP & GRAB"tb.BackgroundColor3=Color3.fromRGB(0,150,0)tb.TextColor3=Color3.new(1,1,1)tb.Font=Enum.Font.GothamBold;tb.TextSize=16;sl.Parent=cf;sl.Position=UDim2.new(.5,5,0,10)sl.Size=UDim2.new(.45,0,1,-20)sl.BackgroundColor3=Color3.fromRGB(20,20,25)sl.ScrollBarThickness=2;sl.CanvasSize=UDim2.new(0,0,0,0)ul.Parent=sl;ul.Padding=UDim.new(0,3)local ec,il,gs,lc,lr,hs,np={},{},false,0,0,false,{}local function gm()for _,o in pairs(W:GetChildren())do if o:IsA("Folder")or o:IsA("Model")then local n=string.lower(o.Name)if string.find(n,"temple")then return"temple"elseif string.find(n,"factory")then return"factory"elseif string.find(n,"lab")then return"lab"end end end return"other"end;local function pb(m)if not m:IsA("Model")or not m:FindFirstChild("Humanoid")then return false end;local n=string.lower(m.Name)if string.find(n,"dummy")then return false end;for _,p in pairs(P:GetPlayers())do if p.Character==m then return false end end;local c=gm()local f={"george","zee","zusy","mimi","giraffy","kona","william","katie","pony"}for _,a in pairs(f)do if string.find(n,a)then return false end end;if c=="temple"and string.find(n,"robby")or c=="lab"and(string.find(n,"willow")or string.find(n,"tigry"))or c=="factory"and string.find(n,"tigry")then return false end;if string.find(n,"mr")and string.find(n,"p")then return"boss"end;for _,e in pairs({"piggy","bot","infected","monster","bunny","doggy","beary","clown","foxy","mous","elly","teacher","sheepy","penny","grandmother","grandfather","robby","badgy","billy","pandy","kitty","dino","parasee","daisy","torcher","soldier","poley","ghost","rash","owell","spider","crawl","devil","angel","mari","memory"})do if string.find(n,e)then return true end end;if(string.find(n,"willow")or string.find(n,"tigry"))and c~="lab"and c~="factory"then return true end;return false end;local kb,mb={},{}local function kp(p)if kb[p]then return end;kb[p]=true;mb[p]={}pcall(function()for _,t in pairs(p:GetDescendants())do if t:IsA("BasePart")then mb[p][t]={C=t.CanCollide,T=t.CanTouch,A=t.Anchored}t.CanCollide=false;t.CanTouch=false;if t.Anchored then t.Anchored=false end end end;if p:FindFirstChild("HumanoidRootPart")then local h=p.HumanoidRootPart;for _,v in pairs(h:GetChildren())do if v:IsA("BodyMover")or v:IsA("BodyVelocity")or v:IsA("BodyGyro")then v:Destroy()end end;h.Anchored=false;local b=Instance.new("BodyVelocity")b.Name="PK"b.Velocity=Vector3.new(0,-500,0)b.MaxForce=Vector3.new(math.huge,math.huge,math.huge)b.Parent=h end end)end;local function cb()for p,t in pairs(mb)do if p and p.Parent then pcall(function()local h=p:FindFirstChild("HumanoidRootPart")if h then for _,v in pairs(h:GetChildren())do if v.Name=="PK"then v:Destroy()end end end;for a,r in pairs(t)do if a and a.Parent then a.CanCollide=r.C;a.CanTouch=r.T;a.Anchored=r.A end end end)end end;kb={}mb={}end;spawn(function()while wait(.5)do if S.G then for _,m in pairs(W:GetDescendants())do local b=pb(m)if b==true then kp(m)end end end end end)W.DescendantAdded:Connect(function(o)wait(.1)if S.G then local b=pb(o)if b==true then kp(o)end end end)local function st(c)local h=L.Character;if not h or not h:FindFirstChild("HumanoidRootPart")then return false end;local r=h.HumanoidRootPart;local s,e=r.Position,c.Position;local d=(e-s).Magnitude;local t=math.ceil(d/S.T)for i=1,t do if not h or not h.Parent then break end;local a=i/t;local n=s:Lerp(e,a)r.CFrame=CFrame.new(n)R.Heartbeat:Wait()end;r.CFrame=c;return true end;local function iu(o)if not o or not o.Parent then return false end;local c,p=o:FindFirstChild("ClickDetector"),o:FindFirstChild("ProximityPrompt")if not(c or p)then return false end;local r=o;while r do if r==W then return true end;if(r:IsA("Model")and r:FindFirstChild("Humanoid"))or r:IsA("Backpack")then return false end;r=r.Parent end;return true end;local function vn(n)if not n or n==""or#n>50 or tonumber(n)then return false end;local l=string.lower(n)for _,w in pairs({"door","house","panel","safe","event","plank","board","wall","floor","window","vent","comic","baseplate","spawn","camera","terrain","code"})do if string.find(l,w)then return false end end;return true end;local function gn(o)if o:IsA("Tool")then return o.Name end;local t=o:FindFirstAncestorOfClass("Tool")if t then return t.Name end;local m=o:FindFirstAncestorOfClass("Model")if m and m~=W and not m:FindFirstChild("Humanoid")and vn(m.Name)then return m.Name end;return o.Name end;local function pp(p)if p and p:FindFirstChild("PlayerGui")then local g=p.PlayerGui;if g:FindFirstChild("Piggy")or g:FindFirstChild("PiggyUI")or g:FindFirstChild("Trap")then return true end end;if p.Team and p.Team.Name then local t=string.lower(p.Team.Name)if string.find(t,"piggy")or string.find(t,"infected")or string.find(t,"bot")then return true end end;return false end;local function ae(o,c,d)if ec[o]then return end;pcall(function()local h=Instance.new("Highlight")h.Name="PE"h.FillColor=c;h.OutlineColor=Color3.new(1,1,1)h.FillTransparency=.5;h.OutlineTransparency=0;h.Parent=o;local b=Instance.new("BillboardGui")b.Name="PT"b.AlwaysOnTop=true;b.Size=UDim2.new(0,100,0,30)b.StudsOffset=Vector3.new(0,3,0)b.Parent=o;local l=Instance.new("TextLabel")l.Parent=b;l.BackgroundTransparency=1;l.Size=UDim2.new(1,0,1,0)l.Text=d;l.TextColor3=c;l.Font=Enum.Font.GothamBold;l.TextSize=12;l.TextStrokeTransparency=.5;ec[o]=true end)end;local function ce(o)if o then pcall(function()for _,c in pairs(o:GetChildren())do if c.Name=="PE"or c.Name=="PT"then c:Destroy()end end;ec[o]=nil end)end end;local function si()il={}local f,t={},0;for _,o in pairs(W:GetDescendants())do if iu(o)then local n=gn(o)if vn(n)then if not f[n]then f[n]=0;il[n]={}end;f[n]=f[n]+1;t=t+1;table.insert(il[n],o)end end end;return f,t end;local function ui()for _,c in pairs(sl:GetChildren())do if c:IsA("TextButton")or c:IsA("TextLabel")then c:Destroy()end end;local f,t=si()if t>0 then gs=true;hs=true end;if not hs then local l=Instance.new("TextLabel")l.Parent=sl;l.Size=UDim2.new(1,0,0,30)l.BackgroundTransparency=1;l.Text="Scanning..."l.TextColor3=Color3.fromRGB(200,200,0)l.Font=Enum.Font.SourceSansBold;l.TextSize=14 else lc=t;if next(f)==nil then local l=Instance.new("TextLabel")l.Parent=sl;l.Size=UDim2.new(1,0,0,30)l.BackgroundTransparency=1;l.Text="No items"l.TextColor3=Color3.fromRGB(0,255,0)l.Font=Enum.Font.SourceSansBold;l.TextSize=14 else for n,c in pairs(f)do local b=Instance.new("TextButton")b.Parent=sl;b.Size=UDim2.new(1,0,0,30)b.Text=n.." ("..c..")"b.BackgroundColor3=Color3.fromRGB(45,45,50)b.TextColor3=Color3.new(1,1,1)b.Font=Enum.Font.SourceSans;b.TextSize=14;b.MouseButton1Click:Connect(function()ib.Text=n end)end end end;sl.CanvasSize=UDim2.new(0,0,0,ul.AbsoluteContentSize.Y)end;spawn(function()while wait(1)do if not hs then ui()if gs then hs=true;break end end end end)spawn(function()while wait(S.R)do if hs and tick()-lr>=S.R then local _,c=si()if c~=lc then lr=tick()rb.Text="Auto..."rb.BackgroundColor3=Color3.fromRGB(0,150,150)wait(.1)ui()wait(.2)rb.Text="REFRESH"rb.BackgroundColor3=Color3.fromRGB(60,60,65)end end end end)task.wait(.5)ui()L.CharacterAdded:Connect(function()wait(2)hs=false;gs=false;ui()end)local ad,ld=false,0;W.DescendantAdded:Connect(function(o)if tick()-ld<.1 then return end;ld=tick()wait(.1)if o:FindFirstChild("ClickDetector")or o:FindFirstChild("ProximityPrompt")then gs=true;hs=true;if not ad then ad=true;wait(.5)ui()ad=false end end end)R.Stepped:Connect(function()if S.N then local c=L.Character;if c then for _,p in pairs(c:GetDescendants())do if p:IsA("BasePart")then p.CanCollide=false end end;for _,o in pairs(W:GetDescendants())do if o:IsA("BasePart")and o.Transparency>=.95 then if not np[o]then np[o]=o.CanCollide end;o.CanCollide=false end end end else for p,g in pairs(np)do if p and p.Parent then p.CanCollide=g end end;np={}end end)local lu=0;R.Heartbeat:Connect(function()if not S.E or tick()-lu<1 then return end;lu=tick()for o,_ in pairs(ec)do if not o.Parent then ce(o)end end;for _,p in pairs(P:GetPlayers())do if p~=L and p.Character and p.Character:FindFirstChild("HumanoidRootPart")then ae(p.Character,pp(p)and S.EC or S.PC,p.Name)end end;for _,m in pairs(W:GetDescendants())do local b=pb(m)if b==true then ae(m,S.EC,"Piggy")elseif b=="boss"then ae(m,Color3.fromRGB(255,0,255),"MR. P")end end;for n,s in pairs(il)do for _,o in pairs(s)do if o and o.Parent and iu(o)then ae(o,S.IC,n)end end end end)eb.MouseButton1Click:Connect(function()S.E=not S.E;eb.Text=S.E and"ESP: ON"or"ESP: OFF"eb.TextColor3=S.E and Color3.new(0,1,0)or Color3.new(1,1,1)if not S.E then for o,_ in pairs(ec)do ce(o)end;ec={}end end)gb.MouseButton1Click:Connect(function()S.G=not S.G;gb.Text=S.G and"ANTI-PIGGY: ON"or"ANTI-PIGGY: OFF"gb.TextColor3=S.G and Color3.new(0,1,0)or Color3.new(1,1,1)if not S.G then cb()end end)nb.MouseButton1Click:Connect(function()S.N=not S.N;nb.Text=S.N and"NOCLIP: ON"or"NOCLIP: OFF"nb.TextColor3=S.N and Color3.new(0,1,0)or Color3.new(1,1,1)end)rb.MouseButton1Click:Connect(function()rb.Text="Loading..."rb.BackgroundColor3=Color3.fromRGB(100,100,0)wait(.2)ui()lr=tick()rb.Text="REFRESH"rb.BackgroundColor3=Color3.fromRGB(60,60,65)end)tb.MouseButton1Click:Connect(function()local n=ib.Text;if n==""then return end;local c=L.Character;if not c or not c:FindFirstChild("HumanoidRootPart")then return end;local s=c.HumanoidRootPart.CFrame;if il[n]then for _,o in pairs(il[n])do if o and o.Parent and iu(o)then local t;if o:IsA("Model")then local p=o.PrimaryPart or o:FindFirstChildWhichIsA("BasePart")if p then t=p.CFrame end elseif o:IsA("BasePart")then t=o.CFrame else local p=o:FindFirstChildWhichIsA("BasePart")if p then t=p.CFrame end end;if t then tb.Text="TP..."tb.BackgroundColor3=Color3.fromRGB(100,100,0)st(t*CFrame.new(0,3,0))wait(.3)tb.Text="Grab..."local d,p=o:FindFirstChild("ClickDetector"),o:FindFirstChild("ProximityPrompt")if d then pcall(function()fireclickdetector(d)end)elseif p then pcall(function()fireproximityprompt(p)end)end;wait(.3)tb.Text="Return..."tb.BackgroundColor3=Color3.fromRGB(0,100,150)st(s)wait(.5)ui()lr=tick()wait(.5)tb.Text="TP & GRAB"tb.BackgroundColor3=Color3.fromRGB(0,150,0)break end end end end end)local im=false;mb.MouseButton1Click:Connect(function()im=not im;if im then mf:TweenSize(UDim2.new(0,400,0,35),"Out","Quad",.3,true)mb.Text="+"cf.Visible=false else mf:TweenSize(UDim2.new(0,400,0,335),"Out","Quad",.3,true)mb.Text="-"cf.Visible=true end end)cb.MouseButton1Click:Connect(function()sg:Destroy()end)print("Piggy V5!")
